<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/crear.css">
    <title>Registrar</title>
</head>
<body>
    <div class="contenedor">
        <h1>Crear Cuenta</h1>

        <p>Somos "X-Store" una tienda informatica que con el tiempo a sabido posicionarse en el mercado peruano ya que la gente prefieren nuestros precios bajos. Para saber mas sobre nosotros cree una cuenta. Si ya creo su cuenta pulse el bot칩n de siguiente <span>(La contrase침a tiene que ser de 6 digitos)</span></p>
        <p>Correo Electr칩nico</p>

        <input type="email" name="" id="email">

        <p>Contrase침a</p>
        <input type="password" name="" id="password">

        <button id="registrar">Crear Cuenta</button>
        <p id="mensaje"></p>
        
    </div>

    <div class="listo">
        <a href="" id="listo">Siguiente</a>
    </div>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.3/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.8.3/firebase-auth.js";
        // import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.8.3/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAYA8n5MZrtkyylOyxvOzPfWR_urxovyaE",
            authDomain: "clientes-fad7b.firebaseapp.com",
            projectId: "clientes-fad7b",
            storageBucket: "clientes-fad7b.appspot.com",
            messagingSenderId: "1068288966027",
            appId: "1:1068288966027:web:d17efc9cc331b98b10c38e"
        };
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);


        // Creamos el evento para que funcione el boton
        document.getElementById("registrar").addEventListener("click", function(){
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            createUserWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                // Signed in
                const user = userCredential.user;
                console.log("Cuenta Creada")
                document.getElementById("mensaje").innerHTML = "Cuenta creada"
                // ...
            })
            
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                console.log(errorCode + errorMessage)
                document.getElementById("mensaje").innerHTML = "Ocurrio un error vuelva a colocar sus datos"
                // ..
            }); 
            })

        

            document.getElementById("listo").addEventListener("click", function(){
                window.open("/iniciar.html")
            })

            
    </script>
</body>
</html>